language: php

php:
    - 5.3
    - 5.4
    - 5.5
    - hhvm

before_script:
    - composer install --dev
    - tests/travis/php_setup.sh
    - tests/travis/redis_setup.sh

script: phpunit --verbose --coverage-clover build/logs/clover.xml

after_script:
  - php vendor/bin/coveralls -v

services:
  - redis-server
  - memcached

matrix:
  allow_failures:
    - php: hhvm
